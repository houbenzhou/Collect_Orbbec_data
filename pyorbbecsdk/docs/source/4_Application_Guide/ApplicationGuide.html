

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.1. Create Device &mdash; OrbbecSDK V2 Python Wrapper  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=a2eacb60" />

  
    <link rel="shortcut icon" href="../../_static/orbbec_footerlogo_3d_world.svg"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5. FAQ" href="../5_FAQ/FAQ.html" />
    <link rel="prev" title="4. Application Guide" href="Application_Guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            OrbbecSDK V2 Python Wrapper
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1_overview/overview.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../1_overview/Introduction.html">1.1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/Introduction.html#support-hardware-products">1.1.1. Support Hardware Products</a></li>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/Introduction.html#support-platforms">1.1.2. Support Platforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../1_overview/OrbbecSDK_Overview.html">1.2. Orbbec SDK Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/OrbbecSDK_Overview.html#terms">1.2.1. Terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/OrbbecSDK_Overview.html#orbbec-sdk-v2-architecture-overview">1.2.2. Orbbec SDK v2 Architecture Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/OrbbecSDK_Overview.html#sdk-concept-overview">1.2.3. SDK Concept Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../1_overview/OrbbecSDK_Overview.html#sdk-programming-model">1.2.4. SDK Programming Model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2_installation/installation.html">2. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2_installation/registration_script.html">2.1. Registration script (required)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/registration_script.html#install-udev-rules-script-linux">2.1.1. install udev rules script (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/registration_script.html#registering-metadata-using-a-script-windows">2.1.2. Registering Metadata Using a Script (Windows)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2_installation/install_the_package.html">2.2. Install from .whl Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/install_the_package.html#linux">2.2.1. Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#prerequisites">2.2.1.1. Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#download-the-appropriate-whl-package">2.2.1.2. Download the Appropriate .whl Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#install-the-package">2.2.1.3. Install the Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#verify-the-installation">2.2.1.4. Verify the Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#run-the-example">2.2.1.5. Run the Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/install_the_package.html#windows">2.2.2. Windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#id1">2.2.2.1. Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#id2">2.2.2.2. Download the Appropriate .whl Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#id3">2.2.2.3. Install the Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#id4">2.2.2.4. Verify the Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/install_the_package.html#id5">2.2.2.5. Run the Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2_installation/build_the_package.html">2.3. Build from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/build_the_package.html#environment">2.3.1. Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#compilation-platform-requirements">2.3.1.1. Compilation Platform Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#python-version">2.3.1.2. Python Version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/build_the_package.html#linux-python-sdk-compilation">2.3.2. Linux Python SDK Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#install-dependencies-ubuntu">2.3.2.1. Install Dependencies (Ubuntu)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#custom-python-path-optional">2.3.2.2. Custom Python Path (Optional)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#build-the-project">2.3.2.3. Build the Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#run-the-examples">2.3.2.4. Run the Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#generate-python-stubs">2.3.2.5. Generate Python Stubs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#making-a-python-wheel">2.3.2.6. Making a Python Wheel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../2_installation/build_the_package.html#windows-python-sdk-compilation">2.3.3. Windows Python SDK Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#download-the-python-sdk-source-code">2.3.3.1. Download the Python SDK Source Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#install-dependencies">2.3.3.2. Install Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#configure-visual-studio-project">2.3.3.3. Configure Visual Studio Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#compile-the-python-sdk">2.3.3.4. Compile the Python SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_installation/build_the_package.html#test-examples">2.3.3.5. Test Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3_QuickStarts/QuickStarts.html">3. QuickStarts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3_QuickStarts/QuickStart.html">3.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3_QuickStarts/QuickStart.html#build-your-first-camera-application">3.2. Build your First Camera Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3_QuickStarts/QuickStart.html#sample-features">3.3. Sample Features</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="Application_Guide.html">4. Application Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Create Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-pipeline">4.2. Create Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtain-the-sensor-list">4.3. Obtain the Sensor List</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtain-video-data-streams">4.4. Obtain Video Data Streams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#blocking-polling-mode-video-data-streams">4.4.1. Blocking Polling Mode (Video Data Streams)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-callback-mode-video-data-streams">4.4.2. Asynchronous Callback Mode (Video Data Streams)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#obtain-imu-data-streams">4.5. Obtain Imu Data Streams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#blocking-polling-mode-imu-data-streams">4.5.1. Blocking Polling Mode (Imu Data Streams)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-callback-mode-imu-data-streams">4.5.2. Asynchronous Callback Mode (Imu Data Streams)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#obtain-the-camera-intrinsic-and-extrinsic-parameters">4.6. Obtain the Camera Intrinsic and Extrinsic Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frame-aggregate">4.7. Frame Aggregate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d2c">4.8. D2C</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hardware-d2c">4.8.1. Hardware D2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="#software-d2c">4.8.2. Software D2C</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#software-c2d">4.9. Software C2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#depth-point-cloud">4.10. Depth Point Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rgbd-point-cloud">4.11. RGBD Point Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="#noise-removeal-filter">4.12. Noise Removeal Filter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hardware-noise-removeal-filter">4.12.1. Hardware Noise Removeal Filter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#depth-post-processing-filters">4.13. Depth Post-Processing Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recording-and-playback">4.14. Recording and Playback</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#recording">4.14.1. Recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="#playback">4.14.2. Playback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-update">4.15. Firmware Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update-preset">4.16. Update Preset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-disconnection-and-reconnection">4.17. Device Disconnection and Reconnection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commonly-used-interfaces">4.18. Commonly Used Interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-reboot">4.18.1. Device Reboot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-the-serial-number">4.18.2. Obtain the Serial Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stream-profile">4.18.3. Stream Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-imu-streamprofile">4.18.4. Obtain IMU StreamProfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-intrinsic-and-extrinsic-parameters">4.18.5. Obtain Intrinsic and Extrinsic Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-imu-intrinsic-parameters">4.18.6. Obtain IMU Intrinsic Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ldp-switch">4.18.7. LDP Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-ldp-measurement-value">4.18.8. Obtain LDP Measurement Value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-ldp-protection-status">4.18.9. Obtain LDP Protection Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#laser-switch">4.18.10. Laser Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtain-metadata">4.18.11. Obtain MetaData</a></li>
<li class="toctree-l3"><a class="reference internal" href="#triggered-capture">4.18.12. Triggered Capture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#software-triggered-capture">4.18.12.1. Software Triggered Capture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#timestamp-reset">4.18.13. Timestamp Reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-time-synchronization">4.18.14. Device Time Synchronization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#d2d-disparity-to-depth">4.18.15. D2D (Disparity to depth)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-d2d">4.18.15.1. Hardware D2D</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software-d2d">4.18.15.2. Software D2D</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#depth-settings">4.18.16. Depth Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#depth-working-mode">4.18.16.1. Depth Working Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preset-configuration">4.18.16.2. Preset Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-ae">4.18.16.3. Set Depth AE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-exposure">4.18.16.4. Set Depth Exposure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-gain">4.18.16.5. Set Depth Gain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-mirror">4.18.16.6. Set Depth Mirror</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-flip">4.18.16.7. Set Depth Flip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-depth-rotation">4.18.16.8. Set Depth Rotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-the-unit-of-depth">4.18.16.9. Set the Unit of Depth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-min-and-max-depth">4.18.16.10. Set Min and Max Depth</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ir-parameter-settings">4.18.17. IR Parameter Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-ae">4.18.17.1. Set IR AE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-exposure">4.18.17.2. Set IR Exposure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-gain">4.18.17.3. Set IR Gain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-target-brightness">4.18.17.4. Set IR Target Brightness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-maximum-exposure-value">4.18.17.5. Set IR Maximum Exposure Value</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-mirror">4.18.17.6. set IR Mirror</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-flip">4.18.17.7. Set IR Flip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-ir-rotation">4.18.17.8. Set IR Rotation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#color-parameter-settings">4.18.18. Color Parameter Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#set-color-ae">4.18.18.1. Set Color AE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-exposure">4.18.18.2. Set Color Exposure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-gain">4.18.18.3. Set Color Gain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-mirror">4.18.18.4. set Color Mirror</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-flip">4.18.18.5. Set Color Flip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-rotation">4.18.18.6. Set Color Rotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-automatic-white-balance-awb">4.18.18.7. Set Color Automatic White Balance (AWB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-white-balance-parameters">4.18.18.8. Set Color White Balance Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-the-color-brightness">4.18.18.9. Set the Color Brightness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-sharpness">4.18.18.10. Set Color Sharpness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-gamma">4.18.18.11. Set Color Gamma</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-saturation">4.18.18.12. Set Color Saturation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-hue">4.18.18.13. Set Color Hue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-auto-exposure-priority">4.18.18.14. Set Color Auto Exposure Priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-backlight-compensation">4.18.18.15. Set Color Backlight Compensation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-contrast">4.18.18.16. Set Color Contrast</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-color-power-line-frequency">4.18.18.17. Set Color Power Line Frequency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#multi-camera-synchronization">4.18.19. Multi-Camera Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multi-camera-synchronous-hardware-connection">4.18.19.1. Multi-Camera Synchronous Hardware Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multi-camera-synchronization-software-configuration">4.18.19.2. Multi-Camera Synchronization Software Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5_FAQ/FAQ.html">5. FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">6. License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OrbbecSDK V2 Python Wrapper</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Application_Guide.html"><span class="section-number">4. </span>Application Guide</a></li>
      <li class="breadcrumb-item active"><span class="section-number">4.1. </span>Create Device</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/source/4_Application_Guide/ApplicationGuide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="create-device">
<h1><span class="section-number">4.1. </span>Create Device<a class="headerlink" href="#create-device" title="Link to this heading"></a></h1>
<p>There are multiple ways to obtain a Device.
If your use case involves multiple devices, it is recommended to use Method 1, Method 2, or Method 3.
If you are working with a single device, Method 4 is recommended for accessing the Device.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Create a Context</span>
<span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>

<span class="c1"># Method 1</span>
<span class="c1"># Enumerate all connected devices through the Context.</span>
<span class="n">device_list</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
<span class="c1"># Get the device at index 0.</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="o">.</span><span class="n">get_device_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Method 2</span>
<span class="c1"># Enumerate all connected devices through the Context.</span>
<span class="n">device_list</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
<span class="c1"># Get the device by serial number.</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="o">.</span><span class="n">get_device_by_serial_number</span><span class="p">(</span><span class="s2">&quot;AE4M73D0040&quot;</span><span class="p">)</span>

<span class="c1"># Method 3</span>
<span class="c1"># Enumerate all connected devices through the Context.</span>
<span class="n">device_list</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
<span class="c1"># Get the device by uid.</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="o">.</span><span class="n">get_device_by_uid</span><span class="p">(</span><span class="s2">&quot;NDSG3958LKHY45&quot;</span><span class="p">)</span>

<span class="c1"># Method 4</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="c1"># Get the device by pipeline.</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="create-pipeline">
<h1><span class="section-number">4.2. </span>Create Pipeline<a class="headerlink" href="#create-pipeline" title="Link to this heading"></a></h1>
<p>There are two ways to create a Pipeline.
If your use case involves multiple devices, use Method 2, which creates a separate Pipeline for each Device.
For single-device scenarios, Method 1 is the most straightforward way to create a Pipeline.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Method 1</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="c1"># Method 2，create with device</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-the-sensor-list">
<h1><span class="section-number">4.3. </span>Obtain the Sensor List<a class="headerlink" href="#obtain-the-sensor-list" title="Link to this heading"></a></h1>
<p>Obtain the sensor list from the Device, and then obtain the supported sensor types from the sensor list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="c1"># 2.Get device with pipeline</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1"># 3.Get the sensor list from device.</span>
<span class="n">sensor_list</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_sensor_list</span><span class="p">()</span>
<span class="c1"># 4.Enable all available video streams</span>
<span class="k">for</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sensor_list</span><span class="p">)):</span>
    <span class="n">sensor_type</span> <span class="o">=</span> <span class="n">sensor_list</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enabling sensor type: </span><span class="si">{</span><span class="n">sensor_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">sensor_type</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-video-data-streams">
<h1><span class="section-number">4.4. </span>Obtain Video Data Streams<a class="headerlink" href="#obtain-video-data-streams" title="Link to this heading"></a></h1>
<p>Common data streams include Depth, Left IR, Right IR, and Color.
Using the Depth stream as an example, the resolution is set to 640x400, the frame rate to 15 fps, and the output format to Y16.
The handling of infrared and color streams follows a similar process.</p>
<p>The difference between Blocking Polling Mode and Asynchronous Callback Mode: In Blocking Polling Mode after frame aggregation in the pipeline, the frame is inserted into the queue, and the application obtain frame data from the queue by calling wait_for_frames. In Asynchronous Callback Mode, after frame aggregation, the frame is directly passed back to the application via a callback. The advantage of Asynchronous Callback Mode is that it is more real-time, but in the callback function, the application layer should avoid time-consuming tasks and should release the frame as soon as possible.</p>
<section id="blocking-polling-mode-video-data-streams">
<h2><span class="section-number">4.4.1. </span>Blocking Polling Mode (Video Data Streams)<a class="headerlink" href="#blocking-polling-mode-video-data-streams" title="Link to this heading"></a></h2>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="c1"># 2.Create config.</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="c1"># 3.Enable video stream. You can modify the parameters based on your usage requirements</span>
<span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
<span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

<span class="c1"># 4.Start the pipeline with config.</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># 5.Wait for up to 100ms for a frameset in blocking mode.</span>
    <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">depth_frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="n">depth_format</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_format</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">depth_format</span> <span class="o">!=</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;depth format is not Y16&quot;</span><span class="p">)</span>
        <span class="k">continue</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_depth_scale</span><span class="p">()</span>

    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">depth_frame</span><span class="o">.</span><span class="n">get_data</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>
    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">))</span>

    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>

    <span class="n">depth_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">depth_data</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">NORM_MINMAX</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">CV_8U</span><span class="p">)</span>
    <span class="n">depth_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">applyColorMap</span><span class="p">(</span><span class="n">depth_image</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLORMAP_JET</span><span class="p">)</span>
    
<span class="c1"># 6.Stop the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/depth.py">examples/depth.py</a>.</p>
</section>
<section id="asynchronous-callback-mode-video-data-streams">
<h2><span class="section-number">4.4.2. </span>Asynchronous Callback Mode (Video Data Streams)<a class="headerlink" href="#asynchronous-callback-mode-video-data-streams" title="Link to this heading"></a></h2>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_new_frame_callback</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">FrameSet</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Callback function to handle new frames&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">depth_frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">depth_format</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_format</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">depth_format</span> <span class="o">!=</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;depth format is not Y16&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_depth_scale</span><span class="p">()</span>

    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">depth_frame</span><span class="o">.</span><span class="n">get_data</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>
    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">))</span>

    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="n">depth_data</span> <span class="o">=</span> <span class="n">depth_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>

    <span class="n">depth_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">depth_data</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">NORM_MINMAX</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">CV_8U</span><span class="p">)</span>
    <span class="n">depth_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">applyColorMap</span><span class="p">(</span><span class="n">depth_image</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLORMAP_JET</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable video stream. You can modify the parameters based on your usage requirements</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
    <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

    <span class="c1"># 4.Start the pipeline with config.</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">frames</span><span class="p">:</span> <span class="n">on_new_frame_callback</span><span class="p">(</span><span class="n">frames</span><span class="p">))</span>

    <span class="c1"># ...</span>

    <span class="c1"># 5.Stop the pipeline</span>
    <span class="n">pipeLine</span><span class="o">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> The Gemini 330 series supports left IR and right IR sensors, with the IR sensor types being OBSensorType.LEFT_IR_SENSOR and OBSensorType.RIGHT_IR_SENSOR, respectively. The depth sensor type is OBSensorType.DEPTH_SENSOR, and the color sensor type is OBSensorType.COLOR_SENSOR</p>
</section>
</section>
<section id="obtain-imu-data-streams">
<h1><span class="section-number">4.5. </span>Obtain Imu Data Streams<a class="headerlink" href="#obtain-imu-data-streams" title="Link to this heading"></a></h1>
<section id="blocking-polling-mode-imu-data-streams">
<h2><span class="section-number">4.5.1. </span>Blocking Polling Mode (Imu Data Streams)<a class="headerlink" href="#blocking-polling-mode-imu-data-streams" title="Link to this heading"></a></h2>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="c1"># 2.Create config.</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="c1"># 3.Enable Accel stream.</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_accel_stream</span><span class="p">()</span>

<span class="c1"># 4.Enable Gyro stream.</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_gyro_stream</span><span class="p">()</span>

<span class="c1"># 5.Start the pipeline with config.</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># 6.Wait for up to 100ms for a frameset in blocking mode.</span>
    <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">accel_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">ACCEL_FRAME</span><span class="p">)</span>
    <span class="n">accel_frame</span> <span class="o">=</span> <span class="n">accel_frame</span><span class="o">.</span><span class="n">as_accel_frame</span><span class="p">()</span>

    <span class="n">gyro_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">GYRO_FRAME</span><span class="p">)</span>
    <span class="n">gyro_frame</span> <span class="o">=</span> <span class="n">gyro_frame</span><span class="o">.</span><span class="n">as_gyro_frame</span><span class="p">()</span>

<span class="c1"># 7.Stop the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/imu.py">examples/imu.py</a>.</p>
</section>
<section id="asynchronous-callback-mode-imu-data-streams">
<h2><span class="section-number">4.5.2. </span>Asynchronous Callback Mode (Imu Data Streams)<a class="headerlink" href="#asynchronous-callback-mode-imu-data-streams" title="Link to this heading"></a></h2>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_new_frame_callback</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">FrameSet</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Callback function to handle new frames&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">accel_frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">ACCEL_FRAME</span><span class="p">)</span>
    <span class="n">accel_frame</span> <span class="o">=</span> <span class="n">accel_frame</span><span class="o">.</span><span class="n">as_accel_frame</span><span class="p">()</span>

    <span class="n">gyro_frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">GYRO_FRAME</span><span class="p">)</span>
    <span class="n">gyro_frame</span> <span class="o">=</span> <span class="n">gyro_frame</span><span class="o">.</span><span class="n">as_gyro_frame</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable Accel stream.</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_accel_stream</span><span class="p">()</span>

    <span class="c1"># 4.Enable Gyro stream.</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_gyro_stream</span><span class="p">()</span>

    <span class="c1"># 5.Start the pipeline with config.</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">frames</span><span class="p">:</span> <span class="n">on_new_frame_callback</span><span class="p">(</span><span class="n">frames</span><span class="p">))</span>

    <span class="c1"># ...</span>

    <span class="c1"># 6.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="obtain-the-camera-intrinsic-and-extrinsic-parameters">
<h1><span class="section-number">4.6. </span>Obtain the Camera Intrinsic and Extrinsic Parameters<a class="headerlink" href="#obtain-the-camera-intrinsic-and-extrinsic-parameters" title="Link to this heading"></a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>

<span class="c1"># Get color_profile</span>
<span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
<span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>

<span class="c1"># Get depth_profile</span>
<span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>

<span class="c1"># Get external parameters</span>
<span class="n">extrinsic</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_extrinsic_to</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;extrinsic  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">extrinsic</span><span class="p">))</span>

<span class="c1"># Get depth inernal parameters</span>
<span class="n">depth_intrinsics</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;depth_intrinsics  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">depth_intrinsics</span><span class="p">))</span>

<span class="c1"># Get depth distortion parameter</span>
<span class="n">depth_distortion</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_distortion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;depth_distortion  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">depth_distortion</span><span class="p">))</span>

<span class="c1"># Get color internala parameters</span>
<span class="n">color_intrinsics</span> <span class="o">=</span> <span class="n">color_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color_intrinsics  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">color_intrinsics</span><span class="p">))</span>

<span class="c1"># Get color distortion parameter</span>
<span class="n">color_distortion</span> <span class="o">=</span> <span class="n">color_profile</span><span class="o">.</span><span class="n">get_distortion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;color_distortion  </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">color_distortion</span><span class="p">))</span>

<span class="c1"># Stop the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="frame-aggregate">
<h1><span class="section-number">4.7. </span>Frame Aggregate<a class="headerlink" href="#frame-aggregate" title="Link to this heading"></a></h1>
<p>The frame aggregation feature is used to configure the output mode of frame data streams. This feature can be set through the interface provided by Config.
There are four types of frame aggregation modes:</p>
<p><code class="docutils literal notranslate"><span class="pre">OBFrameAggregateOutputMode.FULL_FRAME_REQUIRE</span></code></p>
<p>Only FrameSets that contain all expected types of data frames will be output.</p>
<p><code class="docutils literal notranslate"><span class="pre">OBFrameAggregateOutputMode.COLOR_FRAME_REQUIRE</span></code></p>
<p>Color Frame Require output mode.
Suitable for color streams using H264, H265, or other inter-frame encoding formats.</p>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> In this mode, non-color frames in the FrameSet may be null.</p>
<p><code class="docutils literal notranslate"><span class="pre">OBFrameAggregateOutputMode.ANY_SITUATION</span></code></p>
<p>FrameSets will always be output regardless of completeness.</p>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> Specific frame types may be null if not available.</p>
<p><code class="docutils literal notranslate"><span class="pre">OBFrameAggregateOutputMode.DISABLE</span></code></p>
<p>Disable frame aggregation.
All types of frames are output independently.</p>
<p>For example, if Depth, Color, Left IR, and Right IR streams are all enabled and the frame aggregation mode is set to FULL_FRAME_REQUIRE, it means that the returned FrameSet will contain non-null frame data for all four streams.
Sample code is shown below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="c1"># 2.Create config.</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="c1"># 3.Enable depth video stream.</span>
<span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
<span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

<span class="c1"># 4.Enable color video stream.</span>
<span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>
<span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>

<span class="c1"># 5.Enable left ir video stream.</span>
<span class="n">left_profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">LEFT_IR_SENSOR</span><span class="p">)</span>
<span class="n">left_ir_profile</span> <span class="o">=</span> <span class="n">left_profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">left_ir_profile</span><span class="p">)</span>

<span class="c1"># 6.Enable right ir video stream.</span>
<span class="n">right_profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">RIGHT_IR_SENSOR</span><span class="p">)</span>
<span class="n">right_ir_profile</span> <span class="o">=</span> <span class="n">right_profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">right_ir_profile</span><span class="p">)</span>

<span class="c1"># 7.Set the frame aggregate output mode to ensure all types of frames are included in the output frameset</span>
<span class="n">config</span><span class="o">.</span><span class="n">set_frame_aggregate_output_mode</span><span class="p">(</span><span class="n">OBFrameAggregateOutputMode</span><span class="o">.</span><span class="n">FULL_FRAME_REQUIRE</span><span class="p">)</span>

<span class="c1"># 8.Start the pipeline with config.</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="k">while</span><span class="p">(</span><span class="n">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1"># 9.Wait for up to 100ms for a frameset in blocking mode.</span>
    <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="c1"># 10.Get all frames</span>
    <span class="n">color_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_color_frame</span><span class="p">()</span>
    <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>
    <span class="n">left_ir_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">LEFT_IR_FRAME</span><span class="p">)</span>
    <span class="n">right_ir_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">RIGHT_IR_FRAME</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># 11.Stop the pipeline.</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/hdr.py">examples/hdr.py</a>.</p>
</section>
<section id="d2c">
<h1><span class="section-number">4.8. </span>D2C<a class="headerlink" href="#d2c" title="Link to this heading"></a></h1>
<p>D2C requires both Depth and Color streams to be enabled. The following section introduces Hardware D2C and Software D2C.</p>
<section id="hardware-d2c">
<h2><span class="section-number">4.8.1. </span>Hardware D2C<a class="headerlink" href="#hardware-d2c" title="Link to this heading"></a></h2>
<p>The key interface for hardware D2C is setting the D2C mode to hardware via Config, which enables the hardware D2C functionality.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">set_align_mode</span><span class="p">(</span><span class="n">OBAlignMode</span><span class="o">.</span><span class="n">HW_MODE</span><span class="p">)</span>
</pre></div>
</div>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Get the list of color stream profiles</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>

    <span class="c1"># Iterate through the color stream profiles</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">profile_list</span><span class="p">)):</span>
        <span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="c1"># Check if the color format is RGB</span>
        <span class="k">if</span> <span class="n">color_profile</span><span class="o">.</span><span class="n">get_format</span><span class="p">()</span> <span class="o">!=</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># Get the list of hardware aligned depth-to-color profiles</span>
        <span class="n">hw_d2c_profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_d2c_depth_profile_list</span><span class="p">(</span><span class="n">color_profile</span><span class="p">,</span> <span class="n">OBAlignMode</span><span class="o">.</span><span class="n">HW_MODE</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hw_d2c_profile_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># Get the first hardware aligned depth-to-color profile</span>
        <span class="n">hw_d2c_profile</span> <span class="o">=</span> <span class="n">hw_d2c_profile_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hw_d2c_profile: &quot;</span><span class="p">,</span> <span class="n">hw_d2c_profile</span><span class="p">)</span>

        <span class="c1"># 4.Enable the depth and color streams</span>
        <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">hw_d2c_profile</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>

        <span class="c1"># 5.Set the alignment mode to hardware alignment</span>
        <span class="n">config</span><span class="o">.</span><span class="n">set_align_mode</span><span class="p">(</span><span class="n">OBAlignMode</span><span class="o">.</span><span class="n">HW_MODE</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># 6.Start the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 7.Wait for frames</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># Get the color and depth frames</span>
        <span class="n">color_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_color_frame</span><span class="p">()</span>
        <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>

    <span class="c1"># 8.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/hw_d2c_align.py">examples/hw_d2c_align.py</a>.</p>
</section>
<section id="software-d2c">
<h2><span class="section-number">4.8.2. </span>Software D2C<a class="headerlink" href="#software-d2c" title="Link to this heading"></a></h2>
<p>Software D2C can be implemented using synchronous or asynchronous methods. The synchronous method is described below.</p>
<ul class="simple">
<li><p>Core Interface</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">align_filter</span> <span class="o">=</span> <span class="n">AlignFilter</span><span class="p">(</span><span class="n">align_to_stream</span><span class="o">=</span><span class="n">OBStreamType</span><span class="o">.</span><span class="n">COLOR_STREAM</span><span class="p">)</span>
</pre></div>
</div>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable color profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>
    <span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>

    <span class="c1"># 4.Enable depth profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
    <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

    <span class="c1"># 5.Set the frame aggregate output mode to ensure all types of frames are included in the output frameset</span>
    <span class="n">config</span><span class="o">.</span><span class="n">set_frame_aggregate_output_mode</span><span class="p">(</span><span class="n">OBFrameAggregateOutputMode</span><span class="o">.</span><span class="n">FULL_FRAME_REQUIRE</span><span class="p">)</span>

    <span class="c1"># 6.Start the pipeline with config.</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="c1"># 7.Create a filter to align depth frame to color frame</span>
    <span class="n">align_filter</span> <span class="o">=</span> <span class="n">AlignFilter</span><span class="p">(</span><span class="n">align_to_stream</span><span class="o">=</span><span class="n">OBStreamType</span><span class="o">.</span><span class="n">COLOR_STREAM</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 8.Wait for frames</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># 9.Filter the data</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">align_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">frames</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">as_frame_set</span><span class="p">()</span>

        <span class="c1"># Get the color and depth frames</span>
        <span class="n">color_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_color_frame</span><span class="p">()</span>
        <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>

    <span class="c1"># 10.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="software-c2d">
<h1><span class="section-number">4.9. </span>Software C2D<a class="headerlink" href="#software-c2d" title="Link to this heading"></a></h1>
<p>Software C2D can be implemented using either synchronous or asynchronous methods. The synchronous method is described below.</p>
<p>Core Interface</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">align_filter</span> <span class="o">=</span> <span class="n">AlignFilter</span><span class="p">(</span><span class="n">align_to_stream</span><span class="o">=</span><span class="n">OBStreamType</span><span class="o">.</span><span class="n">DEPTH_STREAM</span><span class="p">)</span>
</pre></div>
</div>
<p>Key API Descriptions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable color profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>
    <span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>

    <span class="c1"># 4.Enable depth profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
    <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

    <span class="c1"># 5.Set the frame aggregate output mode to ensure all types of frames are included in the output frameset</span>
    <span class="n">config</span><span class="o">.</span><span class="n">set_frame_aggregate_output_mode</span><span class="p">(</span><span class="n">OBFrameAggregateOutputMode</span><span class="o">.</span><span class="n">FULL_FRAME_REQUIRE</span><span class="p">)</span>

    <span class="c1"># 6.Start the pipeline with config.</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="c1"># 7.Create a filter to align color frame to depth frame</span>
    <span class="n">align_filter</span> <span class="o">=</span> <span class="n">AlignFilter</span><span class="p">(</span><span class="n">align_to_stream</span><span class="o">=</span><span class="n">OBStreamType</span><span class="o">.</span><span class="n">DEPTH_STREAM</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 8.Wait for frames</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># 9.Filter the data</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">align_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">frames</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">as_frame_set</span><span class="p">()</span>

        <span class="c1"># Get the color and depth frames</span>
        <span class="n">color_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_color_frame</span><span class="p">()</span>
        <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>

    <span class="c1"># 10.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/sync_align.py">examples/sync_align.py</a>.</p>
</section>
<section id="depth-point-cloud">
<h1><span class="section-number">4.10. </span>Depth Point Cloud<a class="headerlink" href="#depth-point-cloud" title="Link to this heading"></a></h1>
<p>The SDK provides PointCloudFilter, for processing depth data and generating point clouds.</p>
<p>Key API Description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">save_points_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;point_clouds&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable depth profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
    <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

    <span class="c1"># 4.Start the stream</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="c1"># 5.Create point cloud filter</span>
    <span class="n">point_cloud_filter</span> <span class="o">=</span> <span class="n">PointCloudFilter</span><span class="p">()</span>
    <span class="n">point_cloud_filter</span><span class="o">.</span><span class="n">set_create_point_format</span><span class="p">(</span><span class="n">OBFormat</span><span class="o">.</span><span class="n">POINT</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 6.Wait for frames</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># 7.Apply the point cloud filter</span>
        <span class="n">point_cloud_frame</span> <span class="o">=</span> <span class="n">point_cloud_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>

        <span class="c1"># 8.save point cloud</span>
        <span class="n">save_point_cloud_to_ply</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">,</span> <span class="s2">&quot;depth_point_cloud.ply&quot;</span><span class="p">),</span> <span class="n">point_cloud_frame</span><span class="p">)</span>

        <span class="k">break</span>

    <span class="c1"># 9.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="rgbd-point-cloud">
<h1><span class="section-number">4.11. </span>RGBD Point Cloud<a class="headerlink" href="#rgbd-point-cloud" title="Link to this heading"></a></h1>
<p>RGBD point clouds can be generated using the SDK by acquiring both depth and color data streams, and then processing them with PointCloudFilter.</p>
<p>Key API Description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">save_points_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;point_clouds&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a pipeline with default device.</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="c1"># 2.Create config.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

    <span class="c1"># 3.Enable color profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>
    <span class="n">color_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>

    <span class="c1"># 4.Enable depth profile</span>
    <span class="n">profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
    <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">depth_profile</span><span class="p">)</span>

    <span class="c1"># 5.Set the frame aggregate output mode to ensure all types of frames are included in the output frameset</span>
    <span class="n">config</span><span class="o">.</span><span class="n">set_frame_aggregate_output_mode</span><span class="p">(</span><span class="n">OBFrameAggregateOutputMode</span><span class="o">.</span><span class="n">FULL_FRAME_REQUIRE</span><span class="p">)</span>

    <span class="c1"># 6.Start the stream</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_frame_sync</span><span class="p">()</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="c1"># 7.Create point cloud filter</span>
    <span class="n">point_cloud_filter</span> <span class="o">=</span> <span class="n">PointCloudFilter</span><span class="p">()</span>

    <span class="c1"># 8.Create a filter to align depth frame to color frame</span>
    <span class="n">align_filter</span> <span class="o">=</span> <span class="n">AlignFilter</span><span class="p">(</span><span class="n">align_to_stream</span><span class="o">=</span><span class="n">OBStreamType</span><span class="o">.</span><span class="n">COLOR_STREAM</span><span class="p">)</span>
    <span class="n">point_cloud_filter</span><span class="o">.</span><span class="n">set_create_point_format</span><span class="p">(</span><span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB_POINT</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 9.Wait for frames</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frames</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># 10.Filter the data</span>
        <span class="n">align_frame</span> <span class="o">=</span> <span class="n">align_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">align_frame</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># 11.Apply the point cloud filter</span>
        <span class="n">point_cloud_frame</span> <span class="o">=</span> <span class="n">point_cloud_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">align_frame</span><span class="p">)</span>

        <span class="c1"># 12.save point cloud</span>
        <span class="n">save_point_cloud_to_ply</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_points_dir</span><span class="p">,</span> <span class="s2">&quot;rgb_point_cloud.ply&quot;</span><span class="p">),</span> <span class="n">point_cloud_frame</span><span class="p">)</span>

        <span class="k">break</span>

    <span class="c1"># 13.Stop the pipeline</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="noise-removeal-filter">
<h1><span class="section-number">4.12. </span>Noise Removeal Filter<a class="headerlink" href="#noise-removeal-filter" title="Link to this heading"></a></h1>
<section id="hardware-noise-removeal-filter">
<h2><span class="section-number">4.12.1. </span>Hardware Noise Removeal Filter<a class="headerlink" href="#hardware-noise-removeal-filter" title="Link to this heading"></a></h2>
<p>Hardware Noise Removeal Filter reduces depth noise through on-device processing.</p>
<p>Currently, this feature is supported only on the Gemini 330 series (firmware version 1.4.60 and above).</p>
<p>When hardware filtering is enabled, it’s recommended to disable software denoising filters to reduce CPU usage.</p>
<p>Key API Description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1.Get device by Pipeline</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>

<span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_HW_NOISE_REMOVE_FILTER_ENABLE_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># 2.enable hardware noise removal filter.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_HW_NOISE_REMOVE_FILTER_ENABLE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="c1"># 3.Adjust the threshold for hardware  noise removal filter.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_float_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_HW_NOISE_REMOVE_FILTER_THRESHOLD_FLOAT</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="depth-post-processing-filters">
<h1><span class="section-number">4.13. </span>Depth Post-Processing Filters<a class="headerlink" href="#depth-post-processing-filters" title="Link to this heading"></a></h1>
<p>The SDK provides a recommended list of post-processing filters,For details on how to use the post-processing filter list interface,see <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/post_processing.py">examples/post_processing.py</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

<span class="c1"># 2.Get device with pipeline</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>

<span class="c1"># 3.Get depth sensor</span>
<span class="n">depth_sensor</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_sensor</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>

<span class="c1"># 4.Get a list of post-processing filtering recommendations</span>
<span class="n">filter_list</span> <span class="o">=</span> <span class="n">depth_sensor</span><span class="o">.</span><span class="n">get_recommended_filters</span><span class="p">()</span>

<span class="c1"># 5.Apply the recommended filters to the depth frame</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">post_filter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">filter_list</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">post_filter</span><span class="o">.</span><span class="n">is_enabled</span><span class="p">():</span>
        <span class="c1"># Only apply enabled filters</span>
        <span class="n">new_depth_frame</span> <span class="o">=</span> <span class="n">post_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">new_depth_frame</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="recording-and-playback">
<h1><span class="section-number">4.14. </span>Recording and Playback<a class="headerlink" href="#recording-and-playback" title="Link to this heading"></a></h1>
<section id="recording">
<h2><span class="section-number">4.14.1. </span>Recording<a class="headerlink" href="#recording" title="Link to this heading"></a></h2>
<p>Data stream recording is primarily implemented using RecordDevice.</p>
<p>Key API Description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Prompt the user to enter the output filename (.bag) and wait for input to start recording</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter output filename (.bag) and press Enter to start recording: &quot;</span><span class="p">)</span>

<span class="c1"># 2.Create a pipeline with default device.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="c1"># 3.Get device with pipeline</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1"># 4.Get the list of playback sensors</span>
<span class="n">sensor_list</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_sensor_list</span><span class="p">()</span>
<span class="c1"># 5.enable the data streams for playback</span>
<span class="k">for</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sensor_list</span><span class="p">)):</span>
    <span class="n">sensor_type</span> <span class="o">=</span> <span class="n">sensor_list</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sensor_type</span> <span class="ow">in</span> <span class="n">video_sensors</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">sensor_type</span><span class="p">)</span>
<span class="c1"># 6.Initialize recording device with output file</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">RecordDevice</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
<span class="c1"># 7.Start record</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>

<span class="c1"># 8.Stop record</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/recorder.py">examples/recorder.py</a>.</p>
</section>
<section id="playback">
<h2><span class="section-number">4.14.2. </span>Playback<a class="headerlink" href="#playback" title="Link to this heading"></a></h2>
<p>Data stream playback is primarily implemented using PlaybackDevice.</p>
<p>Key API Description:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Get valid .bag</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter output filename (.bag) and press Enter to start playbacking: &quot;</span><span class="p">)</span>
<span class="c1"># 2.Create a playback device with a .bag file</span>
<span class="n">playback</span> <span class="o">=</span> <span class="n">PlaybackDevice</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="c1"># 3.Create a pipeline with the playback device</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">playback</span><span class="p">)</span>
<span class="c1"># 4.Get the default config</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
<span class="c1"># 5.Set playback status change callback, when the playback stops, start the pipeline again with the same config</span>
<span class="k">def</span><span class="w"> </span><span class="nf">on_status_change</span><span class="p">(</span><span class="n">status</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[Callback] status changed: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">PlaybackStatus</span><span class="o">.</span><span class="n">Stopped</span><span class="p">:</span>
        <span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="n">playback</span><span class="o">.</span><span class="n">set_playback_status_change_callback</span><span class="p">(</span><span class="n">on_status_change</span><span class="p">)</span>
<span class="c1"># 6.Get the list of playback sensors</span>
<span class="n">sensor_list</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_sensor_list</span><span class="p">()</span>
<span class="c1"># 7.enable the data streams for playback</span>
<span class="k">for</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sensor_list</span><span class="p">)):</span>
    <span class="n">sensor_type</span> <span class="o">=</span> <span class="n">sensor_list</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sensor_type</span> <span class="ow">in</span> <span class="n">video_sensors</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">enable_stream</span><span class="p">(</span><span class="n">sensor_type</span><span class="p">)</span>

<span class="c1"># 8.Start the pipeline with the config</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># 9.Get all frames</span>
    <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">frames</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="c1"># Process color image</span>
    <span class="n">color_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">COLOR_FRAME</span><span class="p">)</span>

<span class="c1"># 10.Stop the pipeline.</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="n">playback</span>  <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/playback.py">examples/playback.py</a>.</p>
</section>
</section>
<section id="firmware-update">
<h1><span class="section-number">4.15. </span>Firmware Update<a class="headerlink" href="#firmware-update" title="Link to this heading"></a></h1>
<p>Users can develop firmware update functionality for RGBD cameras as needed.
The following demonstrates how to update the firmware of a single RGBD camera, with a corresponding workflow diagram provided.</p>
<p>Key API Description：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">firmware_update_callback</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
    <span class="c1"># 5.Firmware upgrade status callback</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Progress: </span><span class="si">{</span><span class="n">percent</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status  : </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message : </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.Create a context to access the connected devices</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
    <span class="c1"># 2.Get connected devices from the context</span>
    <span class="n">device_list</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
    <span class="c1"># 3.Get the first device.</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># 4.Set async to false to synchronously block and wait for the device firmware upgrade to complete.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">update_firmware</span><span class="p">(</span><span class="n">firmware_path</span><span class="p">,</span> <span class="n">firmware_update_callback</span><span class="p">,</span> <span class="n">async_update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># ...</span>

    <span class="c1"># 6.Reboot the device after a successful update.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">reboot</span><span class="p">();</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> Femto Mega series devices cannot be used</p>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/device_firmware_update.py">examples/device_firmware_update.py</a>.</p>
</section>
<section id="update-preset">
<h1><span class="section-number">4.16. </span>Update Preset<a class="headerlink" href="#update-preset" title="Link to this heading"></a></h1>
<p>You can update optional depth presets for a device by using the update_optional_depth_presets API.</p>
<p>Define a Callback Function for Update Progress
You can define a callback function to monitor the firmware update progress. This function is called automatically each time the device reports an update status.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Callback function to display update progress</span>
<span class="k">def</span><span class="w"> </span><span class="nf">preset_update_callback</span><span class="p">(</span><span class="n">first_call</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Progress: </span><span class="si">{</span><span class="n">percent</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status  : </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message : </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After selecting a device, update its presets by calling the update_optional_depth_presets function with the specified callback.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 1.Create a context to access the connected devices</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>

<span class="c1"># 2.Get connected devices from the context</span>
<span class="n">device_list</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>

<span class="c1"># 3.Get the first device.</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># 4.update its presets by calling the update_optional_depth_presets function with the specified callback</span>
<span class="n">device</span><span class="o">.</span><span class="n">update_optional_depth_presets</span><span class="p">(</span>
    <span class="n">preset_paths</span><span class="p">,</span>
    <span class="k">lambda</span> <span class="n">state</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">percent</span><span class="p">:</span> <span class="n">preset_update_callback</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">percent</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> The API supports upgrading multiple presets at once. For G300 series devices, a maximum of 3 presets can be written at a time. The first preset written will be set as the default preset.</p>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/device_optional_depth_presets_update.py">examples/device_optional_depth_presets_update.py</a>.</p>
</section>
<section id="device-disconnection-and-reconnection">
<h1><span class="section-number">4.17. </span>Device Disconnection and Reconnection<a class="headerlink" href="#device-disconnection-and-reconnection" title="Link to this heading"></a></h1>
<p>The SDK provides a device connection change listener that helps you handle situations where a device is unexpectedly disconnected and automatically recover when it is reconnected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_device_changed_callback</span><span class="p">(</span><span class="n">disconn_device_list</span><span class="p">:</span> <span class="n">DeviceList</span><span class="p">,</span> <span class="n">conn_device_list</span><span class="p">:</span> <span class="n">DeviceList</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles device changes by invoking appropriate connect/disconnect callbacks.&quot;&quot;&quot;</span>
    <span class="n">on_device_connected_callback</span><span class="p">(</span><span class="n">conn_device_list</span><span class="p">)</span>
    <span class="n">on_device_disconnected_callback</span><span class="p">(</span><span class="n">disconn_device_list</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1.create context</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>

    <span class="c1"># 2.register device callback</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">set_device_changed_callback</span><span class="p">(</span><span class="n">on_device_changed_callback</span><span class="p">)</span>
</pre></div>
</div>
<p>In the Context callback on_device_changed_callback:</p>
<ul class="simple">
<li><p>disconn_device_list contains devices that the SDK has detected as disconnected (offline).</p></li>
<li><p>conn_device_list contains devices that the SDK has detected as connected (online).</p></li>
</ul>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/hot_plug.py">examples/hot_plug.py</a>.</p>
</section>
<section id="commonly-used-interfaces">
<h1><span class="section-number">4.18. </span>Commonly Used Interfaces<a class="headerlink" href="#commonly-used-interfaces" title="Link to this heading"></a></h1>
<section id="device-reboot">
<h2><span class="section-number">4.18.1. </span>Device Reboot<a class="headerlink" href="#device-reboot" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="n">device_list</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
<span class="c1">#get device</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="o">.</span><span class="n">get_device_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#reboot device</span>
<span class="n">device</span><span class="o">.</span><span class="n">reboot</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="obtain-the-serial-number">
<h2><span class="section-number">4.18.2. </span>Obtain the Serial Number<a class="headerlink" href="#obtain-the-serial-number" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>

<span class="n">device_list</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">query_devices</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">device_list</span><span class="o">.</span><span class="n">get_device_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">device_info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_device_info</span><span class="p">()</span>

<span class="c1"># get device serial number</span>
<span class="n">serial_number</span> <span class="o">=</span> <span class="n">device_info</span><span class="o">.</span><span class="n">get_serial_number</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="stream-profile">
<h2><span class="section-number">4.18.3. </span>Stream Profile<a class="headerlink" href="#stream-profile" title="Link to this heading"></a></h2>
<p>Method 1: obtain stream profile by resolution, frame format, and frame rate</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="c1"># Obtain color profile through resolution, frame format and frame rate. A resolution width and height of 0 indicates wildcard characters</span>
<span class="n">color_profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">COLOR_SENSOR</span><span class="p">)</span>
<span class="n">color_profile</span><span class="o">=</span> <span class="n">color_profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="c1"># Get depth profile through resolution, frame format and frame rate, resolution width and height are 0 to indicate wildcard characters</span>
<span class="n">depth_profile_list</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
<span class="n">depth_profile</span> <span class="o">=</span> <span class="n">depth_profile_list</span><span class="o">.</span><span class="n">get_video_stream_profile</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OBFormat</span><span class="o">.</span><span class="n">Y16</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<p>Method 2: Obtain the default stream profile</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
  <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
  <span class="n">depth_profile_list</span> <span class="o">=</span> 
  <span class="n">pipeline</span><span class="o">.</span><span class="n">get_stream_profile_list</span><span class="p">(</span><span class="n">OBSensorType</span><span class="o">.</span><span class="n">DEPTH_SENSOR</span><span class="p">)</span>
  <span class="c1"># Obtain the default depth profile. The default resolution can be configured by using the OrbbecSDKConfig_v1.0.xml</span>
  <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">depth_profile_list</span><span class="o">.</span><span class="n">get_default_video_stream_profile</span><span class="p">()</span>
</pre></div>
</div>
<p>Method 3: Obtain stream profile through video frames</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
  <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
  <span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
  <span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
  <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>
  <span class="n">depth_frame</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">as_video_frame</span><span class="p">()</span>
  <span class="c1">#Get depth profile</span>
  <span class="n">depth_profile</span> <span class="o">=</span> <span class="n">depth_frame</span><span class="o">.</span><span class="n">get_stream_profile</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="obtain-imu-streamprofile">
<h2><span class="section-number">4.18.4. </span>Obtain IMU StreamProfile<a class="headerlink" href="#obtain-imu-streamprofile" title="Link to this heading"></a></h2>
<p>Obtain IMU StreamProfile from IMU frame</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Get the accel stream profile</span>
<span class="n">accel_frame_raw</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">ACCEL_FRAME</span><span class="p">)</span>
<span class="n">accel_stream_profile</span> <span class="o">=</span> <span class="n">accel_frame_raw</span><span class="o">.</span><span class="n">get_stream_profile</span><span class="p">()</span>

<span class="c1"># Get the gyro stream profile</span>
<span class="n">gyro_frame_raw</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">GYRO_FRAME</span><span class="p">)</span>
<span class="n">gyro_stream_profile</span> <span class="o">=</span> <span class="n">gyro_frame_raw</span><span class="o">.</span><span class="n">get_stream_profile</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="obtain-intrinsic-and-extrinsic-parameters">
<h2><span class="section-number">4.18.5. </span>Obtain Intrinsic and Extrinsic Parameters<a class="headerlink" href="#obtain-intrinsic-and-extrinsic-parameters" title="Link to this heading"></a></h2>
<p>Intrinsic and extrinsic parameters can be obtained via the StreamProfile.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the depth intrinsic</span>
<span class="n">depth_intrinsic</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>
<span class="n">depth_distortion</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_distortion</span><span class="p">()</span>

<span class="c1"># Get the color intrinsic</span>
<span class="n">color_intrinsic</span> <span class="o">=</span> <span class="n">color_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>
<span class="n">color_distortion</span> <span class="o">=</span> <span class="n">color_profile</span><span class="o">.</span><span class="n">get_distortion</span><span class="p">()</span>

<span class="c1"># Get the depth to color extrinsic</span>
<span class="n">depth_to_colorExtrinsic</span> <span class="o">=</span> <span class="n">depth_profile</span><span class="o">.</span><span class="n">get_extrinsic_to</span><span class="p">(</span><span class="n">color_profile</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-imu-intrinsic-parameters">
<h2><span class="section-number">4.18.6. </span>Obtain IMU Intrinsic Parameters<a class="headerlink" href="#obtain-imu-intrinsic-parameters" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Get the accel stream profile</span>
<span class="n">accel_frame_raw</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">ACCEL_FRAME</span><span class="p">)</span>
<span class="n">accel_stream_profile</span> <span class="o">=</span> <span class="n">accel_frame_raw</span><span class="o">.</span><span class="n">get_stream_profile</span><span class="p">()</span>
<span class="c1"># Get the accel stream intrinsic</span>
<span class="n">accel_intrinsic</span> <span class="o">=</span> <span class="n">accel_stream_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>

<span class="c1"># Get the gyro stream profile</span>
<span class="n">gyro_frame_raw</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">OBFrameType</span><span class="o">.</span><span class="n">GYRO_FRAME</span><span class="p">)</span>
<span class="n">gyro_stream_profile</span> <span class="o">=</span> <span class="n">gyro_frame_raw</span><span class="o">.</span><span class="n">get_stream_profile</span><span class="p">()</span>
<span class="c1"># Get the gyro stream intrinsic</span>
<span class="n">gyro_intrinsic</span> <span class="o">=</span> <span class="n">gyro_stream_profile</span><span class="o">.</span><span class="n">get_intrinsic</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="ldp-switch">
<h2><span class="section-number">4.18.7. </span>LDP Switch<a class="headerlink" href="#ldp-switch" title="Link to this heading"></a></h2>
<p>The LDP (Laser Distance Protection) module is capable of detecting objects in close proximity. When LDP is enabled, the system detects obstacles within the specified distance range of the camera and gradually reduces the laser power level until the laser is switched off, ensuring laser protection. This functionality is disabled when LDP is disabled.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="c1">#True：turn on LDP，False：turn off LDP</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_LDP_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-ldp-measurement-value">
<h2><span class="section-number">4.18.8. </span>Obtain LDP Measurement Value<a class="headerlink" href="#obtain-ldp-measurement-value" title="Link to this heading"></a></h2>
<p>To obtain the LDP (Laser Distance Protection) measurement values when the LDP switch is enabled.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">distance</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_LDP_MEASURE_DISTANCE_INT</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-ldp-protection-status">
<h2><span class="section-number">4.18.9. </span>Obtain LDP Protection Status<a class="headerlink" href="#obtain-ldp-protection-status" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ldp_status</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_LDP_STATUS_BOOL</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="laser-switch">
<h2><span class="section-number">4.18.10. </span>Laser Switch<a class="headerlink" href="#laser-switch" title="Link to this heading"></a></h2>
<p>The command to turn the laser on or off for the Gemini 330 is as follows：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gemini 330 series Laser control, 0: off, 1: on, 2: auto</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_LASER_CONTROL_INT</span><span class="p">,</span> <span class="n">laser</span><span class="p">)</span>
</pre></div>
</div>
<p>For devices other than the Gemini 330, the command to turn the laser on or off is as follows：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_LASER_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="obtain-metadata">
<h2><span class="section-number">4.18.11. </span>Obtain MetaData<a class="headerlink" href="#obtain-metadata" title="Link to this heading"></a></h2>
<p>MetaData can be obtained from the returned Frame objects. Supported frame types include depth, leftIR, rightIR, and color.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">frame_set</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="c1"># Example of using color frame</span>
<span class="n">frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_color_frame</span><span class="p">()</span>

<span class="k">if</span> <span class="n">frame</span><span class="o">.</span><span class="n">has_metadata</span><span class="p">(</span><span class="n">EXPOSURE</span><span class="p">):</span>
    <span class="n">metadata_value</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get_metadata_value</span><span class="p">(</span><span class="n">EXPOSURE</span><span class="p">)</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/metadata.py">examples/metadata.py</a>.</p>
</section>
<section id="triggered-capture">
<h2><span class="section-number">4.18.12. </span>Triggered Capture<a class="headerlink" href="#triggered-capture" title="Link to this heading"></a></h2>
<section id="software-triggered-capture">
<h3><span class="section-number">4.18.12.1. </span>Software Triggered Capture<a class="headerlink" href="#software-triggered-capture" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>

<span class="c1"># First, configure the device to software trigger mode through the Device.</span>
<span class="n">sync_config</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_multi_device_sync_config</span><span class="p">()</span>
<span class="n">sync_config</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">OBMultiDeviceSyncMode</span><span class="o">.</span><span class="n">SOFTWARE_TRIGGERING</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_multi_device_sync_config</span><span class="p">(</span><span class="n">sync_config</span><span class="p">)</span>

<span class="c1"># Finally, after starting the video stream, capture the data stream through the interface provided by the Device.</span>
<span class="n">device</span><span class="o">.</span><span class="n">trigger_capture</span><span class="p">()</span>
</pre></div>
</div>
<p>For detailed code, refer to: <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/two_devices_sync.py">examples/two_devices_sync.py</a>.</p>
</section>
</section>
<section id="timestamp-reset">
<h2><span class="section-number">4.18.13. </span>Timestamp Reset<a class="headerlink" href="#timestamp-reset" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Timestamp Reset Command</p></li>
</ul>
<p>This command is used in multi-device synchronization scenarios and only needs to be sent to the master device. Resetting the timestamp on the master device is sufficient, as it can be configured to output a reset signal to reset the slave devices.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_TIMER_RESET_SIGNAL_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>TimeStamp Reset Trigger Out enable</p></li>
</ul>
<p>Enabling this option allows the timestamp reset signal to be sent to slave devices for resetting.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># true: Indicates that the trigger signal is sent externally; false: Indicates that the trigger signal is not sent externally.</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_TIMER_RESET_TRIGGER_OUT_ENABLE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Reset Signal Delay</p></li>
</ul>
<p>Defines how long to delay the reset after receiving the trigger signal. This can be used in master-slave sync scenarios to avoid laser interference.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The delay time is in microseconds (us), for example, setting it to 20 means 20 microseconds.</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_TIMER_RESET_DELAY_US_INT</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Enable Timestamp Reset</p></li>
</ul>
<p>For Gemini 330 series and Gemini 2 series devices, you can directly use the above three interfaces without calling an additional enable command.
However, for Femto Mega series devices, you must first call the timestamp reset enable interface before using the timestamp reset functionality and the three interfaces above.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># true: Indicates that the timestamp reset function is enabled.</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_TIMER_RESET_ENABLE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="device-time-synchronization">
<h2><span class="section-number">4.18.14. </span>Device Time Synchronization<a class="headerlink" href="#device-time-synchronization" title="Link to this heading"></a></h2>
<p>Device Timing: set the host time to the device.</p>
<ol class="simple">
<li><p>To synchronize a single device, you would need to periodically invoke a time synchronization function, such as calling it once every 1 minutes.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="n">device</span><span class="o">.</span><span class="n">timer_sync_with_host</span><span class="p">()</span>
</pre></div>
</div>
<ol class="simple">
<li><p>To synchronize multiple devices, the parameter “repeatInterval” represents the synchronization interval in milliseconds (ms). For example, to synchronize every one minute, the repeatInterval would be set to 60 * 1000 (ms).</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="c1"># Parameter: The interval for auto-repeated synchronization, in milliseconds. If the value is 0, synchronization is performed only once.</span>
<span class="n">context</span><span class="o">.</span><span class="n">enable_multi_device_sync</span><span class="p">(</span><span class="mi">60000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="d2d-disparity-to-depth">
<h2><span class="section-number">4.18.15. </span>D2D (Disparity to depth)<a class="headerlink" href="#d2d-disparity-to-depth" title="Link to this heading"></a></h2>
<p>Disparity to depth is an image processing technique used to convert disparity information into depth information.</p>
<section id="hardware-d2d">
<h3><span class="section-number">4.18.15.1. </span>Hardware D2D<a class="headerlink" href="#hardware-d2d" title="Link to this heading"></a></h3>
<p>Hardware D2D refers to disparity-to-depth conversion implemented internally within the device. Devices such as the Gemini 330 series, Gemini 2, Gemini 2 L, Astra 2 support this feature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1"># Parameters: True to turn on hardware D2D, False to turn off hardware D2D</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DISPARITY_TO_DEPTH_BOOL</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="software-d2d">
<h3><span class="section-number">4.18.15.2. </span>Software D2D<a class="headerlink" href="#software-d2d" title="Link to this heading"></a></h3>
<p>Software D2D refers to disparity-to-depth conversion implemented within the SDK. All devices support Software D2D except for TOF devices like Femto Mega and Femto Bolt.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1"># Parameters: True to turn on Software D2D, False to turn off Software D2D</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_SDK_DISPARITY_TO_DEPTH_BOOL</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="depth-settings">
<h2><span class="section-number">4.18.16. </span>Depth Settings<a class="headerlink" href="#depth-settings" title="Link to this heading"></a></h2>
<section id="depth-working-mode">
<h3><span class="section-number">4.18.16.1. </span>Depth Working Mode<a class="headerlink" href="#depth-working-mode" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>

<span class="c1"># Find the depth work mode name through the list</span>
<span class="n">depth_work_mode_list</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_depth_work_mode_list</span><span class="p">()</span>
<span class="n">select_depth_work_mode</span> <span class="o">=</span> <span class="n">depth_work_mode_list</span><span class="o">.</span><span class="n">get_depth_work_mode_by_index</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># Set depth work mode</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_depth_work_mode</span><span class="p">(</span><span class="n">select_depth_work_mode</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Note:</span></code> Setting the Depth mode must be set before start the stream.</p>
</section>
<section id="preset-configuration">
<h3><span class="section-number">4.18.16.2. </span>Preset Configuration<a class="headerlink" href="#preset-configuration" title="Link to this heading"></a></h3>
<p>Gemini 330 series 3D cameras have built-in a variety of predefined Presets. For the specific application scenarios of 3D cameras, users can use the Orbbec Viewer tool to select the best Presets.</p>
<p>The method of loading the preset is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>

<span class="c1"># Get preset name through the list</span>
<span class="n">preset_list</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_available_preset_list</span><span class="p">()</span>
<span class="n">preset_name</span> <span class="o">=</span> <span class="n">preset_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
<span class="c1"># Set preset</span>
<span class="n">device</span><span class="o">.</span><span class="n">load_preset</span><span class="p">(</span><span class="n">preset_name</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-ae">
<h3><span class="section-number">4.18.16.3. </span>Set Depth AE<a class="headerlink" href="#set-depth-ae" title="Link to this heading"></a></h3>
<p>Set the Depth for automatic exposure.Set Depth AE is equivalent to set IR AE.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># True open depth AE， False: close depth AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-exposure">
<h3><span class="section-number">4.18.16.4. </span>Set Depth Exposure<a class="headerlink" href="#set-depth-exposure" title="Link to this heading"></a></h3>
<p>Set Depth exposure, prerequisites, you need to turn off the Depth AE. Set Depth exposure is equivalent to set IR exposure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Diable AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># Set exposure</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_EXPOSURE_INT</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-gain">
<h3><span class="section-number">4.18.16.5. </span>Set Depth Gain<a class="headerlink" href="#set-depth-gain" title="Link to this heading"></a></h3>
<p>To set the exposure for Depth, you need to turn off the Depth AE. Set Depth gain is equivalent to set IR Gain.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Diable AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># Set depth gain</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_GAIN_INT</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-mirror">
<h3><span class="section-number">4.18.16.6. </span>Set Depth Mirror<a class="headerlink" href="#set-depth-mirror" title="Link to this heading"></a></h3>
<p>Depth mirror refers to horizontally flipping the depth image along its vertical centerline, meaning the pixel positions on the left and right sides of the image are swapped.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_READ</span><span class="p">):</span>
    <span class="c1"># Obtain the current mirror</span>
    <span class="n">is_open</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_MIRROR_BOOL</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
        <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_MIRROR_BOOL</span><span class="p">,</span> <span class="ow">not</span> <span class="n">is_open</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-flip">
<h3><span class="section-number">4.18.16.7. </span>Set Depth Flip<a class="headerlink" href="#set-depth-flip" title="Link to this heading"></a></h3>
<p>Depth Flip means flipping the depth image up and down along the X-axis, that is, swapping the upper and lower parts of the image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_FLIP_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># true: depth is flipped up and down; false: Does not flip</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_FLIP_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-depth-rotation">
<h3><span class="section-number">4.18.16.8. </span>Set Depth Rotation<a class="headerlink" href="#set-depth-rotation" title="Link to this heading"></a></h3>
<p>Depth rotation can be rotated at 0, 90, 180, and 270 degrees. The default rotation is set to 0 degrees.</p>
<p>Rotation parameters:</p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_0</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_90</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_180</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_270</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_ROTATE_INT</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># Set the rotation angle.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_ROTATE_INT</span><span class="p">,</span> <span class="n">OBRotateDegreeType</span><span class="o">.</span><span class="n">ROTATE_90</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-the-unit-of-depth">
<h3><span class="section-number">4.18.16.9. </span>Set the Unit of Depth<a class="headerlink" href="#set-the-unit-of-depth" title="Link to this heading"></a></h3>
<p>The precision of depth measurements is determined by the unit of pixel values in the depth data frame. By adjusting the depth unit, the accuracy of depth measurements can be modified. For instance, if the unit is set to 0.2mm, an object at a distance of 1000mm will have a pixel value of 5000 in the output depth data frame (as 5000 multiplied by 0.2mm equals 1000mm). Similarly, if the unit is set to 0.1mm, the pixel value will be 10000.</p>
<p>Gemini 2/2L, Astra 2,Gemini 330 series support the setting of Depth units. Gemini 2/2L sets the Depth unit as follows:</p>
<p>Among them:</p>
<p>OBDepthPrecisionLevel.ONE_MM： 1mm</p>
<p>OBDepthPrecisionLevel.ZERO_POINT_EIGHT_MM：0.8mm</p>
<p>OBDepthPrecisionLevel.ZERO_POINT_FOUR_MM: 0.4mm</p>
<p>OBDepthPrecisionLevel.ZERO_POINT_TWO_MM: 0.2mm</p>
<p>OBDepthPrecisionLevel.ZERO_POINT_ONE_MM: 0.1mm</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_PRECISION_LEVEL_INT</span><span class="p">,</span> <span class="n">OBDepthPrecisionLevel</span><span class="o">.</span><span class="n">ONE_MM</span><span class="p">)</span>
</pre></div>
</div>
<p>The Gemini 330 series supports setting the Depth unit as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_float_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_DEPTH_UNIT_FLEXIBLE_ADJUSTMENT_FLOAT</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Notes:</span></code> The Gemini 330 series Depth unit supports setting arbitrary units, with the parameter as a float.</p>
</section>
<section id="set-min-and-max-depth">
<h3><span class="section-number">4.18.16.10. </span>Set Min and Max Depth<a class="headerlink" href="#set-min-and-max-depth" title="Link to this heading"></a></h3>
<p>Set the min and max values of Depth, and all Depth outside this range will be set to 0.</p>
<ul class="simple">
<li><p>For devices other than the Gemini 330 series, the method to set the max and min depth values is as follows:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1"># Set the min Depth value, and the Depth less than the modified value will be set to 0,Unit: mm</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_MIN_DEPTH_INT</span> <span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="c1"># Set the max Depth value, the Depth greater than the modified value will be set to 0, unit mm</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_MAX_DEPTH_INT</span> <span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For the Gemini 330 series, max and min depth values are set through post-processing with the ThresholdFilter, as follows:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="c1"># create threshold filter</span>
<span class="n">threshold_filter</span> <span class="o">=</span> <span class="n">ThresholdFilter</span><span class="p">()</span>
<span class="c1"># set min and max depth,unit: mm</span>
<span class="n">threshold_filter</span><span class="o">.</span><span class="n">set_value_range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="c1"># get depth frame</span>
<span class="n">frames</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">wait_for_frames</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">depth_frame</span> <span class="o">=</span> <span class="n">frames</span><span class="o">.</span><span class="n">get_depth_frame</span><span class="p">()</span>
<span class="c1"># call threshold filter</span>
<span class="n">new_depth_frame</span> <span class="o">=</span> <span class="n">threshold_filter</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">depth_frame</span><span class="p">)</span>
<span class="n">depth_frame</span> <span class="o">=</span> <span class="n">new_depth_frame</span><span class="o">.</span><span class="n">as_depth_frame</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="ir-parameter-settings">
<h2><span class="section-number">4.18.17. </span>IR Parameter Settings<a class="headerlink" href="#ir-parameter-settings" title="Link to this heading"></a></h2>
<section id="set-ir-ae">
<h3><span class="section-number">4.18.17.1. </span>Set IR AE<a class="headerlink" href="#set-ir-ae" title="Link to this heading"></a></h3>
<p>Set the IR for automatic exposure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># True open IR AE， False: close IR AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-exposure">
<h3><span class="section-number">4.18.17.2. </span>Set IR Exposure<a class="headerlink" href="#set-ir-exposure" title="Link to this heading"></a></h3>
<p>Exposure settings only take effect when AE is disabled</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Disable AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># set exposure</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_EXPOSURE_INT</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-gain">
<h3><span class="section-number">4.18.17.3. </span>Set IR Gain<a class="headerlink" href="#set-ir-gain" title="Link to this heading"></a></h3>
<p>Gain settings only take effect when AE is disabled</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Disable AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="c1"># Set gain. gain: the specific gain value</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_GAIN_INT</span><span class="p">,</span> <span class="n">gain</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-target-brightness">
<h3><span class="section-number">4.18.17.4. </span>Set IR Target Brightness<a class="headerlink" href="#set-ir-target-brightness" title="Link to this heading"></a></h3>
<p>Used during auto exposure to define the target brightness</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_BRIGHTNESS_INT</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-maximum-exposure-value">
<h3><span class="section-number">4.18.17.5. </span>Set IR Maximum Exposure Value<a class="headerlink" href="#set-ir-maximum-exposure-value" title="Link to this heading"></a></h3>
<p>Used during auto exposure to define the max exposure</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_AE_MAX_EXPOSURE_INT</span><span class="p">,</span> <span class="mi">3000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-mirror">
<h3><span class="section-number">4.18.17.6. </span>set IR Mirror<a class="headerlink" href="#set-ir-mirror" title="Link to this heading"></a></h3>
<p>IR mirror refers to horizontally flipping the IR image along its vertical centerline, meaning the pixel positions on the left and right sides of the image are swapped.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_READ</span><span class="p">):</span>
    <span class="c1"># Obtain the current mirror</span>
    <span class="n">isOpen</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_MIRROR_BOOL</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
        <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_MIRROR_BOOL</span><span class="p">,</span> <span class="ow">not</span> <span class="n">isOpen</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-flip">
<h3><span class="section-number">4.18.17.7. </span>Set IR Flip<a class="headerlink" href="#set-ir-flip" title="Link to this heading"></a></h3>
<p>IR Flip means flipping the IR image up and down along the X-axis, that is, swapping the upper and lower parts of the image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_FLIP_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># true: IR is flipped up and down; false: Does not flip</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_FLIP_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-ir-rotation">
<h3><span class="section-number">4.18.17.8. </span>Set IR Rotation<a class="headerlink" href="#set-ir-rotation" title="Link to this heading"></a></h3>
<p>IR rotation can be rotated at 0, 90, 180, and 270 degrees. The default rotation is set to 0 degrees.</p>
<p>Rotation parameters:</p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_0</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_90</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_180</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_270</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_ROTATE_INT</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># Set the rotation angle</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_IR_ROTATE_INT</span><span class="p">,</span> <span class="n">OBRotateDegreeType</span><span class="o">.</span><span class="n">ROTATE_90</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="color-parameter-settings">
<h2><span class="section-number">4.18.18. </span>Color Parameter Settings<a class="headerlink" href="#color-parameter-settings" title="Link to this heading"></a></h2>
<section id="set-color-ae">
<h3><span class="section-number">4.18.18.1. </span>Set Color AE<a class="headerlink" href="#set-color-ae" title="Link to this heading"></a></h3>
<p>Set the Color for automatic exposure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1">#True open color AE， False: close color AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-exposure">
<h3><span class="section-number">4.18.18.2. </span>Set Color Exposure<a class="headerlink" href="#set-color-exposure" title="Link to this heading"></a></h3>
<p>Set Color exposure, prerequisites, you need to turn off the Color AE</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#True open color AE， False: close color AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="c1">#set exposure</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_EXPOSURE_INT</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-gain">
<h3><span class="section-number">4.18.18.3. </span>Set Color Gain<a class="headerlink" href="#set-color-gain" title="Link to this heading"></a></h3>
<p>Set the Color gain and prerequisites. You need to turn off the Color AE</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#True open color AE， False: close color AE</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_EXPOSURE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="c1">#Set color gain. gain: the specific gain value</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_GAIN_INT</span><span class="p">,</span> <span class="n">gain</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-mirror">
<h3><span class="section-number">4.18.18.4. </span>set Color Mirror<a class="headerlink" href="#set-color-mirror" title="Link to this heading"></a></h3>
<p>Color mirror refers to horizontally flipping the Color image along its vertical centerline, meaning the pixel positions on the left and right sides of the image are swapped.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_READ</span><span class="p">):</span>
    <span class="c1"># Set the Color mirror</span>
    <span class="n">isOpen</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">get_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_MIRROR_BOOL</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_MIRROR_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
        <span class="c1"># Parameter: true mirror, false non-mirror</span>
        <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_MIRROR_BOOL</span><span class="p">,</span> <span class="ow">not</span> <span class="n">isOpen</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-flip">
<h3><span class="section-number">4.18.18.5. </span>Set Color Flip<a class="headerlink" href="#set-color-flip" title="Link to this heading"></a></h3>
<p>Color Flip means flipping the Color image up and down along the X-axis, that is, swapping the upper and lower parts of the image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_FLIP_BOOL</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># true: indicates that the data is flipped up and down. false: indicates that the data is not flipped.</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_FLIP_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-rotation">
<h3><span class="section-number">4.18.18.6. </span>Set Color Rotation<a class="headerlink" href="#set-color-rotation" title="Link to this heading"></a></h3>
<p>Color rotation can be rotated at 0, 90, 180, and 270 degrees. The default rotation is set to 0 degrees.</p>
<p>Rotation parameters:</p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_0</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_90</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_180</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OBRotateDegreeType.ROTATE_270</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">is_property_supported</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_ROTATE_INT</span><span class="p">,</span> <span class="n">OBPermissionType</span><span class="o">.</span><span class="n">PERMISSION_WRITE</span><span class="p">):</span>
    <span class="c1"># Set the rotation angle</span>
    <span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_ROTATE_INT</span><span class="p">,</span> <span class="n">OBRotateDegreeType</span><span class="o">.</span><span class="n">ROTATE_90</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-automatic-white-balance-awb">
<h3><span class="section-number">4.18.18.7. </span>Set Color Automatic White Balance (AWB)<a class="headerlink" href="#set-color-automatic-white-balance-awb" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="c1">#True: Turn on Auto White Balance，False: Turn off Auto White Balance</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_WHITE_BALANCE_BOOL</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-white-balance-parameters">
<h3><span class="section-number">4.18.18.8. </span>Set Color White Balance Parameters<a class="headerlink" href="#set-color-white-balance-parameters" title="Link to this heading"></a></h3>
<p>To set the white balance parameter, you must turn off automatic white balance first.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_bool_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_WHITE_BALANCE_BOOL</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_WHITE_BALANCE_INT</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-the-color-brightness">
<h3><span class="section-number">4.18.18.9. </span>Set the Color Brightness<a class="headerlink" href="#set-the-color-brightness" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_BRIGHTNESS_INT</span><span class="p">,</span> <span class="n">brightness</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-sharpness">
<h3><span class="section-number">4.18.18.10. </span>Set Color Sharpness<a class="headerlink" href="#set-color-sharpness" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_SHARPNESS_INT</span><span class="p">,</span> <span class="n">sharpness</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-gamma">
<h3><span class="section-number">4.18.18.11. </span>Set Color Gamma<a class="headerlink" href="#set-color-gamma" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_GAMMA_INT</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-saturation">
<h3><span class="section-number">4.18.18.12. </span>Set Color Saturation<a class="headerlink" href="#set-color-saturation" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_SATURATION_INT</span><span class="p">,</span> <span class="n">saturation</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-hue">
<h3><span class="section-number">4.18.18.13. </span>Set Color Hue<a class="headerlink" href="#set-color-hue" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_HUE_INT</span><span class="p">,</span> <span class="n">hue</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-auto-exposure-priority">
<h3><span class="section-number">4.18.18.14. </span>Set Color Auto Exposure Priority<a class="headerlink" href="#set-color-auto-exposure-priority" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_AUTO_EXPOSURE_PRIORITY_INT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-backlight-compensation">
<h3><span class="section-number">4.18.18.15. </span>Set Color Backlight Compensation<a class="headerlink" href="#set-color-backlight-compensation" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_BACKLIGHT_COMPENSATION_INT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-contrast">
<h3><span class="section-number">4.18.18.16. </span>Set Color Contrast<a class="headerlink" href="#set-color-contrast" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_CONTRAST_INT</span><span class="p">,</span> <span class="n">contrast</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-color-power-line-frequency">
<h3><span class="section-number">4.18.18.17. </span>Set Color Power Line Frequency<a class="headerlink" href="#set-color-power-line-frequency" title="Link to this heading"></a></h3>
<p>It is necessary to set 50Hz or 60Hz according to the power line frequency of different countries and regions. The purpose of setting the power supply frequency is to prevent Color images from flickering.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pyorbbecsdk</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">get_device</span><span class="p">()</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_int_property</span><span class="p">(</span><span class="n">OBPropertyID</span><span class="o">.</span><span class="n">OB_PROP_COLOR_POWER_LINE_FREQUENCY_INT</span><span class="p">,</span> <span class="n">OBPowerLineFreqMode</span><span class="o">.</span><span class="n">FREQUENCY_50HZ</span><span class="p">)</span>
</pre></div>
</div>
<p>Remarks:</p>
<p>OBPowerLineFreqMode.FREQUENCY_50HZ ：50HZ</p>
<p>OBPowerLineFreqMode.FREQUENCY_60HZ ：60HZ</p>
<p>OBPowerLineFreqMode.FREQUENCY_CLOSE ：Close</p>
</section>
</section>
<section id="multi-camera-synchronization">
<h2><span class="section-number">4.18.19. </span>Multi-Camera Synchronization<a class="headerlink" href="#multi-camera-synchronization" title="Link to this heading"></a></h2>
<section id="multi-camera-synchronous-hardware-connection">
<h3><span class="section-number">4.18.19.1. </span>Multi-Camera Synchronous Hardware Connection<a class="headerlink" href="#multi-camera-synchronous-hardware-connection" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://www.orbbec.com/docs/set-up-cameras-for-external-synchronization_v1-2/">multi-camera sync document</a></p>
</section>
<section id="multi-camera-synchronization-software-configuration">
<h3><span class="section-number">4.18.19.2. </span>Multi-Camera Synchronization Software Configuration<a class="headerlink" href="#multi-camera-synchronization-software-configuration" title="Link to this heading"></a></h3>
<p>First, modify the configuration file (multi_device_sync_config.json), modify the serial number of the Primary Device and Secondary Device, if you need to configure other parameters, please refer to the <a class="reference external" href="https://www.orbbec.com/docs/set-up-cameras-for-external-synchronization_v1-2/">multi-camera sync document</a></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;devices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;serial_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CP3S34D00051&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PRIMARY&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;depth_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;color_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_to_image_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_out_enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_out_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;frames_per_trigger&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;serial_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CP3L44P00054&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SECONDARY&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;depth_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;color_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_to_image_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_out_enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;trigger_out_delay_us&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;frames_per_trigger&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Multi-device synchronization Sample, please refer to <a class="reference external" href="https://github.com/orbbec/pyorbbecsdk/blob/v2-main/examples/two_devices_sync.py">examples/two_devices_sync.py</a>, if you need to synchronize more than 2 devices, it is recommended to use C++.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#1. read sync param from json config，and set multi device sync params</span>
<span class="n">device</span><span class="o">.</span><span class="n">set_multi_device_sync_config</span><span class="p">(</span><span class="n">sync_config</span><span class="p">)</span>
<span class="c1">#2. start the data stream for each device</span>
<span class="n">start_streams</span><span class="p">(</span><span class="n">pipelines</span><span class="p">,</span> <span class="n">configs</span><span class="p">)</span>
<span class="c1">#3. Synchronize the device time</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">enable_multi_device_sync</span><span class="p">(</span><span class="mi">60000</span><span class="p">)</span>
<span class="c1">#4. print serial number and timestamp，Determine synchronization effect by timestamps</span>
<span class="k">if</span> <span class="n">color_frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;device#</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">, color frame timestamp: </span><span class="si">{</span><span class="n">color_frame</span><span class="o">.</span><span class="n">get_timestamp_us</span><span class="p">()</span><span class="si">}</span><span class="s2"> us , system timestamp: </span><span class="si">{</span><span class="n">color_frame</span><span class="o">.</span><span class="n">get_system_timestamp_us</span><span class="p">()</span><span class="si">}</span><span class="s2"> us&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">depth_frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;device#</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">, depth frame timestamp: </span><span class="si">{</span><span class="n">depth_frame</span><span class="o">.</span><span class="n">get_timestamp_us</span><span class="p">()</span><span class="si">}</span><span class="s2"> us , system timestamp: </span><span class="si">{</span><span class="n">depth_frame</span><span class="o">.</span><span class="n">get_system_timestamp_us</span><span class="p">()</span><span class="si">}</span><span class="s2"> us&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Running results:
We use the timestamps of the Primary and Secondary printed by Sample to determine if they are synchronized on.</p>
<p><img alt="Multi_sync" src="../../_images/multi_sync.png" /></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Application_Guide.html" class="btn btn-neutral float-left" title="4. Application Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../5_FAQ/FAQ.html" class="btn btn-neutral float-right" title="5. FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, ORBBEC INC. www.orbbec.com..
      <span class="lastupdated">Last updated on 2025-08-13 16:30:15.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>